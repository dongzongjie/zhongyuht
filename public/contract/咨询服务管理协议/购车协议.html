<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        
        .docpe {
            width: 794px;
            background-color: #fff;
            padding: 60px 60px 220px;
            box-sizing: border-box;
        }
        
        button {
            position: fixed;
            top: 100px;
            left: 0;
        }
        
        #bt {
            position: fixed;
            top: 150px;
            left: 0;
        }
    </style>
    <script src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.js"></script>
    <script src="https://cdn.bootcss.com/jspdf/1.3.4/jspdf.debug.js"></script>
</head>

<body>
    <button onclick="printOut('购车协议')">点击下载合同</button>
    <button id="bt">点击打印</button>
    <div class="docpe" id="PDF">
        <p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p>
        <h2 style="line-height:27pt; margin:0pt; text-align:center"><span style="color:#333333; font-family:微软雅黑; font-size:18pt; font-style:normal; font-weight:bold; text-transform:none">购车协议</span></h2>
        <p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">甲方（卖方）：[&lt;收款人姓名&gt;]</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">身份证号：[&lt;收款人身份证号&gt;]</span>
            <a name="收款人身份证号"></a>
        </p>
        <p style="font-size:9pt; line-height:115%; margin:0pt; text-indent:11.65pt"><br /><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">乙方（购车人）：[&lt;贷款人姓名&gt;]</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">身份证号：[&lt;贷款人身份证号&gt;]</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">联系电话：[&lt;贷款人电话&gt;]</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">地</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">址：[&lt;贷款人户籍地址&gt;]</span>
            <a name="贷款人户籍地址"></a>
        </p>
        <p style="font-size:9pt; line-height:115%; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">乙方于</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">       </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">年 </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">     </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">月</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">      </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">日欲购买甲方</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> [&lt;车辆品牌&gt;][&lt;车辆款式&gt;]  </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">汽车壹辆，双方经友好协商对购车事宜达成如下一致约定。</span>
        </p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">一、该车初次登记时间</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">       </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">年 </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">     </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">月</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">      </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">日：甲方自愿将自己的</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> [&lt;车辆品牌&gt;] 汽</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">车卖给乙方，车架号为</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> [&lt;车辆识别代号&gt;]  </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">：发动机号：</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> [&lt;发动机号&gt;]</span>
            <a name="发动机号"></a><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">，车辆销售总价格为：</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> [&lt;车辆价格&gt;]</span>
            <a name="车辆价格"></a><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">元。</span>
        </p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">二、乙方已于</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">       </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">年</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">      </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">月</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">      </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">日支付首付款（金额）</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none">  [&lt;首付款&gt;] </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">元，尾款需于车辆交付后20</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-decoration:underline; text-transform:none"> </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">日内支付完毕。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">三、甲方承诺已将车辆真实情况全部告知乙方，乙方已经知晓该车的全部车况，后期使用过程中如发现甲方有重大隐瞒，乙方可凭车辆检修部门的证明向甲方采取以下补偿措施：</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">1、 乙方退车，甲方将购车款全部退还乙方。乙方不付折损费。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">2、 甲方承担车辆检修费用，并承担由此给乙方造成的经济损失。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">四、乙方对第三项所列车况的检验期为购车之日起6个月。逾期无权再追究甲方的责任，购车后乙方正常使用过程中产生的维修费用由乙方承担。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">五、车辆交付前与本车发生的一切有关事情及问题由甲方负责，交付后与本车发生的一切有关事情及问题由乙方负责。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">六、本协议经各方签字按手印或盖章后生效。协议签订后，任何一方不得无故解除本协议，乙方如有违反，甲方不退还乙方已付车款，甲方违反，将双倍返还乙方已付车款。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">七、在履行本协议过程中发生争议时双方协商解决，协商不成任何一方有权向本协议签订地提起诉讼。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">八、本协议未尽事宜，双方协商解决。本协议一式两份，甲乙双方各执一份。</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="line-height:15pt; margin:0pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt; text-indent:21pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; font-weight:normal; text-transform:none">甲方（签章）：                                                       乙方（签章）：</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt; text-indent:21pt"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt 0pt 15pt; text-align:center"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">                                          </span><br /><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">                                           </span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">年</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">     </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">月</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">      </span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span>
            <span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">日</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>
        <p style="font-size:9pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="color:#333333; font-family:微软雅黑; font-size:9pt; font-style:normal; text-transform:none">&#xa0;</span></p>

    </div>
</body>

<script>
    // 接收VUE数据
    window.addEventListener("message", function(event) {
        console.log(event);
        // let sname = document.querySelector('#sname')
        // sname.innerHTML = event.data.name
        // if (event.data.isDownload) return printOut('购车协议')
    })

    // PDF
    function printOut(name) {
        let shareContent = document.querySelector('#PDF'), //需要截图的包裹的（原生的）DOM 对象
            width = shareContent.clientWidth, //获取dom 宽度
            height = shareContent.clientHeight, //获取dom 高度
            canvas = document.createElement("canvas"), //创建一个canvas节点
            scale = 2; //定义任意放大倍数 支持小数
        canvas.width = width * scale; //定义canvas 宽度 * 缩放
        canvas.height = height * scale; //定义canvas高度 *缩放
        canvas.style.width = shareContent.clientWidth * scale + "px";
        canvas.style.height = shareContent.clientHeight * scale + "px";
        canvas.getContext("2d").scale(scale, scale); //获取context,设置scale
        let opts = {
            scale: scale, // 添加的scale 参数
            canvas: canvas, //自定义 canvas
            logging: false, //日志开关，便于查看html2canvas的内部执行流程
            width: width, //dom 原始宽度
            height: height,
            useCORS: true, // 【重要】开启跨域配置
        };

        html2canvas(shareContent, opts).then(() => {
            var contentWidth = canvas.width;
            var contentHeight = canvas.height;
            //一页pdf显示html页面生成的canvas高度;
            var pageHeight = (contentWidth / 592.28) * 841.89;
            //未生成pdf的html页面高度
            var leftHeight = contentHeight;
            //页面偏移
            var position = 0;
            //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高
            var imgWidth = 595.28;
            var imgHeight = (592.28 / contentWidth) * contentHeight;
            var pageData = canvas.toDataURL("image/jpeg", 1.0);
            var PDF = new jsPDF("", "pt", "a4");
            if (leftHeight < pageHeight) {
                PDF.addImage(pageData, "JPEG", 0, 0, imgWidth, imgHeight);
            } else {
                while (leftHeight > 0) {
                    PDF.addImage(pageData, "JPEG", 0, position, imgWidth, imgHeight);
                    leftHeight -= pageHeight;
                    position -= 841.89;
                    if (leftHeight > 0) {
                        PDF.addPage();
                    }
                }
            }
            PDF.save(name + ".pdf"); // 这里是导出的文件名
        });
    }

    // 打印
    function printdiv(printpage) {
        var newstr = printpage.innerHTML;
        var oldstr = document.body.innerHTML;
        document.body.innerHTML = newstr;
        window.print();
        document.body.innerHTML = oldstr;
        return false;
    }
    var bt = document.getElementById("bt");
    var div_print = document.getElementById("PDF");
    bt.onclick = function() {
        printdiv(div_print);
    }
</script>

</html>